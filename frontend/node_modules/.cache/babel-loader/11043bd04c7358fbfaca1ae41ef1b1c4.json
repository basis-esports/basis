{"ast":null,"code":"import _slicedToArray from \"/Users/user/basis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/user/basis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/user/basis/frontend/src/components/App/UserSuggestions.js\";\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  color: \", \";\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  font-weight: \", \";\\n  color: \", \";\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  list-style-type: none;\\n  display: flex;\\n  flex-direction: row;\\n  margin-bottom: \", \";\\n\\n  &:last-child {\\n    margin-bottom: 0;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0;\\n  padding-top: \", \";\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: none;\\n  background-color: \", \";\\n  border: 1px solid \", \";\\n  position: sticky;\\n  top: \", \"px;\\n  right: 0;\\n  height: 100%;\\n  width: \", \"px;\\n  padding: \", \";\\n  border-radius: \", \";\\n\\n  @media (min-width: \", \") {\\n    display: block;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { matchPath } from 'react-router';\nimport { generatePath } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport { Loading } from 'components/Loading';\nimport { H3, A } from 'components/Text';\nimport { Spacing } from 'components/Layout';\nimport Avatar from 'components/Avatar';\nimport { useStore } from 'store';\nimport { USER_SUGGESTIONS } from 'graphql/user';\nimport { USER_SUGGESTIONS_WIDTH, HEADER_HEIGHT } from 'constants/Layout';\nimport * as Routes from 'routes';\nvar Root = styled.div(_templateObject(), function (p) {\n  return p.theme.colors.white;\n}, function (p) {\n  return p.theme.colors.border.main;\n}, HEADER_HEIGHT + 40, USER_SUGGESTIONS_WIDTH, function (p) {\n  return p.theme.spacing.sm;\n}, function (p) {\n  return p.theme.radius.sm;\n}, function (p) {\n  return p.theme.screen.md;\n});\nvar List = styled.ul(_templateObject2(), function (p) {\n  return p.theme.spacing.xs;\n});\nvar ListItem = styled.li(_templateObject3(), function (p) {\n  return p.theme.spacing.sm;\n});\nvar FullName = styled.div(_templateObject4(), function (p) {\n  return p.theme.font.weight.bold;\n}, function (p) {\n  return p.active ? p.theme.colors.primary.main : p.theme.colors.text.primary;\n});\nvar UserName = styled.div(_templateObject5(), function (p) {\n  return p.theme.colors.text.hint;\n});\n/**\n * Displays user suggestions\n */\n\nvar UserSuggestions = function UserSuggestions(_ref) {\n  var pathname = _ref.pathname;\n\n  var _useStore = useStore(),\n      _useStore2 = _slicedToArray(_useStore, 1),\n      auth = _useStore2[0].auth;\n\n  var _useQuery = useQuery(USER_SUGGESTIONS, {\n    variables: {\n      userId: auth.user.id\n    }\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading;\n\n  var hideUserSuggestions = matchPath(pathname, {\n    path: [Routes.MESSAGES, Routes.PEOPLE, Routes.EXPLORE, Routes.USER_PROFILE]\n  });\n  if (hideUserSuggestions) return null;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Root, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Loading, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (!data.suggestPeople.length > 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Root, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(H3, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, \"Suggestions For You\"), /*#__PURE__*/React.createElement(List, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, data.suggestPeople.map(function (user) {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: user.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(A, {\n      to: generatePath(Routes.USER_PROFILE, {\n        username: user.username\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      image: user.image,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Spacing, {\n      left: \"xs\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(A, {\n      to: generatePath(Routes.USER_PROFILE, {\n        username: user.username\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FullName, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, user.fullName), /*#__PURE__*/React.createElement(UserName, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \"@\", user.username))));\n  })));\n};\n\nUserSuggestions.propTypes = {\n  pathname: PropTypes.string.isRequired\n};\nexport default UserSuggestions;","map":{"version":3,"sources":["/Users/user/basis/frontend/src/components/App/UserSuggestions.js"],"names":["React","PropTypes","styled","matchPath","generatePath","useQuery","Loading","H3","A","Spacing","Avatar","useStore","USER_SUGGESTIONS","USER_SUGGESTIONS_WIDTH","HEADER_HEIGHT","Routes","Root","div","p","theme","colors","white","border","main","spacing","sm","radius","screen","md","List","ul","xs","ListItem","li","FullName","font","weight","bold","active","primary","text","UserName","hint","UserSuggestions","pathname","auth","variables","userId","user","id","data","loading","hideUserSuggestions","path","MESSAGES","PEOPLE","EXPLORE","USER_PROFILE","suggestPeople","length","map","username","image","fullName","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { matchPath } from 'react-router';\nimport { generatePath } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport { Loading } from 'components/Loading';\nimport { H3, A } from 'components/Text';\nimport { Spacing } from 'components/Layout';\nimport Avatar from 'components/Avatar';\n\nimport { useStore } from 'store';\n\nimport { USER_SUGGESTIONS } from 'graphql/user';\n\nimport { USER_SUGGESTIONS_WIDTH, HEADER_HEIGHT } from 'constants/Layout';\n\nimport * as Routes from 'routes';\n\nconst Root = styled.div`\n  display: none;\n  background-color: ${(p) => p.theme.colors.white};\n  border: 1px solid ${(p) => p.theme.colors.border.main};\n  position: sticky;\n  top: ${HEADER_HEIGHT + 40}px;\n  right: 0;\n  height: 100%;\n  width: ${USER_SUGGESTIONS_WIDTH}px;\n  padding: ${(p) => p.theme.spacing.sm};\n  border-radius: ${(p) => p.theme.radius.sm};\n\n  @media (min-width: ${(p) => p.theme.screen.md}) {\n    display: block;\n  }\n`;\n\nconst List = styled.ul`\n  padding: 0;\n  padding-top: ${(p) => p.theme.spacing.xs};\n`;\n\nconst ListItem = styled.li`\n  list-style-type: none;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: ${(p) => p.theme.spacing.sm};\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst FullName = styled.div`\n  font-weight: ${(p) => p.theme.font.weight.bold};\n  color: ${(p) => (p.active ? p.theme.colors.primary.main : p.theme.colors.text.primary)};\n`;\n\nconst UserName = styled.div`\n  color: ${(p) => p.theme.colors.text.hint};\n`;\n\n/**\n * Displays user suggestions\n */\nconst UserSuggestions = ({ pathname }) => {\n  const [{ auth }] = useStore();\n  const { data, loading } = useQuery(USER_SUGGESTIONS, {\n    variables: { userId: auth.user.id },\n  });\n\n  const hideUserSuggestions = matchPath(pathname, {\n    path: [Routes.MESSAGES, Routes.PEOPLE, Routes.EXPLORE, Routes.USER_PROFILE],\n  });\n\n  if (hideUserSuggestions) return null;\n\n  if (loading) {\n    return (\n      <Root>\n        <Loading />\n      </Root>\n    );\n  }\n\n  if (!data.suggestPeople.length > 0) {\n    return null;\n  }\n\n  return (\n    <Root>\n      <H3>Suggestions For You</H3>\n\n      <List>\n        {data.suggestPeople.map((user) => (\n          <ListItem key={user.id}>\n            <A\n              to={generatePath(Routes.USER_PROFILE, {\n                username: user.username,\n              })}\n            >\n              <Avatar image={user.image} />\n            </A>\n\n            <Spacing left=\"xs\">\n              <A\n                to={generatePath(Routes.USER_PROFILE, {\n                  username: user.username,\n                })}\n              >\n                <FullName>{user.fullName}</FullName>\n                <UserName>@{user.username}</UserName>\n              </A>\n            </Spacing>\n          </ListItem>\n        ))}\n      </List>\n    </Root>\n  );\n};\n\nUserSuggestions.propTypes = {\n  pathname: PropTypes.string.isRequired,\n};\n\nexport default UserSuggestions;\n"]},"metadata":{},"sourceType":"module"}