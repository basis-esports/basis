{"ast":null,"code":"import _slicedToArray from \"/Users/user/basis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/user/basis/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/user/basis/frontend/src/components/Message.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 20px;\\n  top: 24px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  width: 100%;\\n  box-shadow: \", \";\\n  padding: \", \";\\n  z-index: \", \";\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: \", \";\\n  animation: \", \" 0.3s ease-out forwards;\\n  color: \", \";\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  from {\\n    bottom: -60px;\\n    opacity: 0;\\n  }\\n  to {\\n    bottom: 0;\\n    opacity: 1;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled, { keyframes } from 'styled-components';\nimport { SuccessIcon, InfoIcon, WarningIcon, ErrorIcon, CloseIcon } from 'components/icons';\nimport { Spacing } from './Layout';\nimport { Button } from 'components/Form';\nimport theme from 'theme';\nimport { allMessageTypes } from 'constants/MessageType';\nimport { useStore } from 'store';\nimport { CLEAR_MESSAGE } from 'store/message';\nvar fade = keyframes(_templateObject());\n/**\n * Default styles for message\n */\n\nvar Root = styled.div(_templateObject2(), function (p) {\n  return p.theme.shadows.md;\n}, function (p) {\n  return p.theme.spacing.sm;\n}, function (p) {\n  return p.theme.zIndex.xl;\n}, function (p) {\n  return p.color && p.color;\n}, fade, function (p) {\n  return p.theme.colors.white;\n});\nvar Close = styled(Button)(_templateObject3());\n/**\n * Displays global message as feedback in response to user operations\n */\n\nvar Message = function Message(_ref) {\n  var children = _ref.children,\n      type = _ref.type,\n      autoClose = _ref.autoClose;\n\n  var _useStore = useStore(),\n      _useStore2 = _slicedToArray(_useStore, 2),\n      dispatch = _useStore2[1];\n\n  useEffect(function () {\n    if (autoClose) {\n      var timer = setTimeout(function () {\n        dispatch({\n          type: CLEAR_MESSAGE\n        });\n      }, 5000);\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n  }, [dispatch, autoClose]);\n  var _theme$colors = theme.colors,\n      success = _theme$colors.success,\n      info = _theme$colors.info,\n      warning = _theme$colors.warning,\n      error = _theme$colors.error;\n  var Colors = {\n    SUCCESS: success,\n    INFO: info,\n    WARNING: warning,\n    ERROR: error.main\n  };\n\n  var MessageType = function MessageType(type) {\n    var icons = {\n      SUCCESS: /*#__PURE__*/React.createElement(SuccessIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 16\n        }\n      }),\n      INFO: /*#__PURE__*/React.createElement(InfoIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }),\n      WARNING: /*#__PURE__*/React.createElement(WarningIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 16\n        }\n      }),\n      ERROR: /*#__PURE__*/React.createElement(ErrorIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 14\n        }\n      })\n    };\n    return icons[type];\n  };\n\n  return /*#__PURE__*/React.createElement(Root, {\n    color: Colors[type],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, MessageType(type), /*#__PURE__*/React.createElement(Spacing, {\n    left: type && 'xs',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, children), /*#__PURE__*/React.createElement(Close, {\n    ghost: true,\n    onClick: function onClick() {\n      return dispatch({\n        type: CLEAR_MESSAGE\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  })));\n};\n\nMessage.defaultProps = {\n  autoClose: true\n};\nMessage.propTypes = {\n  children: PropTypes.any.isRequired,\n  type: PropTypes.oneOf(allMessageTypes),\n  autoClose: PropTypes.bool\n};\nexport default Message;","map":{"version":3,"sources":["/Users/user/basis/frontend/src/components/Message.js"],"names":["React","useEffect","PropTypes","styled","keyframes","SuccessIcon","InfoIcon","WarningIcon","ErrorIcon","CloseIcon","Spacing","Button","theme","allMessageTypes","useStore","CLEAR_MESSAGE","fade","Root","div","p","shadows","md","spacing","sm","zIndex","xl","color","colors","white","Close","Message","children","type","autoClose","dispatch","timer","setTimeout","clearTimeout","success","info","warning","error","Colors","SUCCESS","INFO","WARNING","ERROR","main","MessageType","icons","defaultProps","propTypes","any","isRequired","oneOf","bool"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled, { keyframes } from 'styled-components';\n\nimport { SuccessIcon, InfoIcon, WarningIcon, ErrorIcon, CloseIcon } from 'components/icons';\nimport { Spacing } from './Layout';\nimport { Button } from 'components/Form';\n\nimport theme from 'theme';\n\nimport { allMessageTypes } from 'constants/MessageType';\n\nimport { useStore } from 'store';\nimport { CLEAR_MESSAGE } from 'store/message';\n\nconst fade = keyframes`\n  from {\n    bottom: -60px;\n    opacity: 0;\n  }\n  to {\n    bottom: 0;\n    opacity: 1;\n  }\n`;\n\n/**\n * Default styles for message\n */\nconst Root = styled.div`\n  position: fixed;\n  width: 100%;\n  box-shadow: ${(p) => p.theme.shadows.md};\n  padding: ${(p) => p.theme.spacing.sm};\n  z-index: ${(p) => p.theme.zIndex.xl};\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background-color: ${(p) => p.color && p.color};\n  animation: ${fade} 0.3s ease-out forwards;\n  color: ${(p) => p.theme.colors.white};\n`;\n\nconst Close = styled(Button)`\n  position: absolute;\n  right: 20px;\n  top: 24px;\n`;\n\n/**\n * Displays global message as feedback in response to user operations\n */\nconst Message = ({ children, type, autoClose }) => {\n  const [, dispatch] = useStore();\n\n  useEffect(() => {\n    if (autoClose) {\n      const timer = setTimeout(() => {\n        dispatch({ type: CLEAR_MESSAGE });\n      }, 5000);\n\n      return () => {\n        clearTimeout(timer);\n      };\n    }\n  }, [dispatch, autoClose]);\n\n  const { success, info, warning, error } = theme.colors;\n\n  const Colors = {\n    SUCCESS: success,\n    INFO: info,\n    WARNING: warning,\n    ERROR: error.main,\n  };\n\n  const MessageType = (type) => {\n    const icons = {\n      SUCCESS: <SuccessIcon />,\n      INFO: <InfoIcon />,\n      WARNING: <WarningIcon />,\n      ERROR: <ErrorIcon />,\n    };\n\n    return icons[type];\n  };\n\n  return (\n    <Root color={Colors[type]}>\n      {MessageType(type)}\n      <Spacing left={type && 'xs'}>{children}</Spacing>\n      <Close ghost onClick={() => dispatch({ type: CLEAR_MESSAGE })}>\n        <CloseIcon color=\"white\" />\n      </Close>\n    </Root>\n  );\n};\n\nMessage.defaultProps = {\n  autoClose: true,\n};\n\nMessage.propTypes = {\n  children: PropTypes.any.isRequired,\n  type: PropTypes.oneOf(allMessageTypes),\n  autoClose: PropTypes.bool,\n};\n\nexport default Message;\n"]},"metadata":{},"sourceType":"module"}